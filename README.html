<html>
<head>
    <title>Daniel Martiniano</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">

    <style>
        code {
            background-color : #ddd;
            padding          : 2px 5px;
            font-family      : monospace;
            font-size        : 16px;
        }
    </style>
</head>
<body>

<div class="pure-g">

  <div class="pure-u-1-24"></div>
    
  <div class="pure-u-22-24">

    <h1>Desafio Veus - Daniel Martiniano</h1>

    <h2>Backend - API</h2>
    
    [ TODO: detalhes sobre o backend ]

    
    <h2>Frontend</h2>
    
    [ TODO: detalhes sobre o frontend ]
    
    <h2>Sobre o projeto</h2>
    
    <p>
      <strong>Idioma</strong>: será usado o inglês nos códigos
    </p>

    <p>
      <strong>Versionamento</strong>: Por <i>URI Path</i>, ex.: <code>GET https://app.com/api/v1/produtos</code>. 
      <br>
      Pela simplicidade solicitada no desafio, serão utilizados 2 <i>Route Groups</i> na aplicação, um para cada versão do projeto.
      <br>
      Em um projeto real talvez seja interessante tratar o versionamento com <i>middlewares</i> ou algum <i>package</i> da comunidade.
    </p>

    <h2>Sobre o ambiente</h2>
    
    <p>
      Como o Docker é um extra do desafio, resolvi utilizar o <a target="_blank" href="https://phpdocker.io/generator">phpdocker</a> para auxiliar na criação do ambiente. 
      Fiz os seguintes ajutes a partir do Dockerfile gerado:
    </p>
    
    <ul>
      <li>Renomeei os serviços</li>
      <li>Removi bind de configs desnecessarios</li>
      <li>Alterei as portas de acesso</li>
      <li>Alterei o bind para a pasta <i>src</i> do projeto</li>
      <li>Adicionei o parâmetro <i>restart</i> nos serviços para evitar que o serviço fique offline</li>
      <li>Adicionei uma network para comunicação entre os serviços</li>
    </ul>

    <p>Permissões:</p>

    <ul>
      <li>Para conseguir atualizar os arquivos da fonte do projeto, usei o comando <code>sudo chown meuUsuario:meuUsuario -R .</code></li>
      <li>para dar permissão ao meu usuario local e <code>sudo chmod -R 777</code> para liberar acesso a todas as pastas (777 pois não estamos em produção)</li>
    </ul>

    <p>
      Para executar as migrations e comandos artisan, os comandos foram efetuados direto pelo <i>bash</i> do container, com <code>docker exec -it php-fpm /bin/bash</code>
    </p>

    <h2>e finalmente... subindo a aplicação</h2>
    
    <p>
      <code>cd</code> na pasta do projeto e execute o comando <code>docker-compose up -d</code>
    </p>
    
    <p>
      Este comando irá iniciar os containers e mantê-los executando em background (detached)
    </p>
    
    <p>
      Acessem a aplicação via <i>localhost</i>, pelos enderecos definidos abaixo
    </p>

    <ul>
      <li>nginx: localhost:8888</li>
      <li>mysql: localhost:3306</li>
    </ul>

    <ul style="margin-bottom: 100px">
      <li>login: usuario@veusapi.com.br</li>
      <li>senha: password</li>
    </ul>

    </div>
</div>

<script>
    var tables = document.getElementsByTagName('table');
    for (var i = 0; i < tables.length; i++) {
        tables[i].className = "pure-table";
    }
</script>
</body>
</html>
